<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tesla (TSLA) Investment Thesis Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Palette: Electric Future
         Primary Blue: #3B82F6
         Vibrant Purple: #8B5CF6
         Neon Cyan: #06B6D4
         Hot Pink: #F43F5E
         Dark Text: #111827
         Background: #F3F4F6
    -->

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #F3F4F6;
            color: #111827;
        }

        /* Chart Container Strict Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Restrict max width for readability */
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height */
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #8B5CF6;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #7C3AED;
        }

        .gradient-text {
            background: linear-gradient(to right, #3B82F6, #8B5CF6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card {
            transition: transform 0.2s ease-in-out;
        }
        .card:hover {
            transform: translateY(-4px);
        }
    </style>
    <!-- 
        Analysis Plan:
        1. Intro: High-level overview of TSLA current state (Crossroads).
        2. KPIs: Big numbers (Market Cap, P/E, Deliveries).
        3. Financials: Revenue & Income trends (Chart: Combined Bar/Line).
        4. Segments: Where the money comes from (Chart: Doughnut).
        5. The Bull Case: Technology & Energy (HTML List).
        6. The Bear Case: Valuation & Competition (HTML List).
        7. Competition: Market Share (Chart: Horizontal Bar).
        8. SWOT: Strategic overview (HTML Grid).
        9. Technicals: Price levels (Chart: Line).
        10. Conclusion: Final Verdict.
    -->
    <!-- 
        Chart Selection & NO SVG Confirmation:
        - Financials -> Goal: Change -> Chart: Combined Bar/Line -> Chart.js
        - Segments -> Goal: Inform/Composition -> Chart: Doughnut -> Chart.js
        - Competition -> Goal: Compare -> Chart: Horizontal Bar -> Chart.js
        - Technicals -> Goal: Change -> Chart: Line -> Chart.js
        - SWOT -> Goal: Organize -> Method: CSS Grid/HTML (No Mermaid/SVG)
        - Icons -> Goal: Inform -> Method: Unicode Characters (No SVG)
    -->
</head>
<body class="bg-gray-100">

    <!-- Header / Hook -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-extrabold tracking-tight text-gray-900">
                TSLA <span class="text-indigo-600">Investment Thesis</span>
            </h1>
            <div class="text-sm font-medium text-gray-500">
                Data Review: Q3 2024
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-12">

        <!-- Section 1: Introduction -->
        <section class="text-center max-w-4xl mx-auto">
            <h2 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-4">
                Automaker or <span class="gradient-text">AI Robotics Giant?</span>
            </h2>
            <p class="text-xl text-gray-600 leading-relaxed">
                Tesla sits at a pivotal intersection. While automotive margins compress due to aggressive pricing and competition, the valuation remains pegged to a future dominated by autonomy (FSD), robotics (Optimus), and energy storage. This dashboard dissects the fundamentals and technicals to form a cohesive thesis.
            </p>
        </section>

        <!-- Section 2: Core KPIs (Inform) -->
        <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="card bg-white rounded-xl shadow p-6 border-l-4 border-blue-500">
                <p class="text-sm font-bold text-gray-400 uppercase">Market Cap</p>
                <p class="text-3xl font-extrabold text-gray-900">~$750B</p>
                <p class="text-xs text-blue-500 mt-2">High Volatility Beta</p>
            </div>
            <div class="card bg-white rounded-xl shadow p-6 border-l-4 border-purple-500">
                <p class="text-sm font-bold text-gray-400 uppercase">P/E Ratio (TTM)</p>
                <p class="text-3xl font-extrabold text-gray-900">~65x</p>
                <p class="text-xs text-purple-500 mt-2">Premium vs Industry (6x)</p>
            </div>
            <div class="card bg-white rounded-xl shadow p-6 border-l-4 border-cyan-500">
                <p class="text-sm font-bold text-gray-400 uppercase">Auto Margins</p>
                <p class="text-3xl font-extrabold text-gray-900">~16.5%</p>
                <p class="text-xs text-cyan-500 mt-2">Normalizing from peaks</p>
            </div>
            <div class="card bg-white rounded-xl shadow p-6 border-l-4 border-pink-500">
                <p class="text-sm font-bold text-gray-400 uppercase">Cash on Hand</p>
                <p class="text-3xl font-extrabold text-gray-900">$29B+</p>
                <p class="text-xs text-pink-500 mt-2">Fortress Balance Sheet</p>
            </div>
        </section>

        <!-- Section 3: Financial Fundamentals (Change) -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-2xl font-bold text-gray-800 mb-2">Revenue & Net Income Trend</h3>
                <p class="text-gray-600 mb-6 text-sm">
                    Tesla has demonstrated explosive revenue growth over the last 5 years. However, recent quarters show a decoupling of revenue and net income, highlighting the impact of price cuts aimed at defending market share.
                </p>
                <!-- Chart Container -->
                <div class="chart-container">
                    <canvas id="financialChart"></canvas>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-2xl font-bold text-gray-800 mb-2">Revenue Mix Transformation</h3>
                <p class="text-gray-600 mb-6 text-sm">
                    While primarily an automotive company, the growth narrative hinges on the "Energy Generation & Storage" and "Services" segments becoming larger contributors to the bottom line, offsetting auto cyclicality.
                </p>
                <!-- Chart Container -->
                <div class="chart-container">
                    <canvas id="revenueMixChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Section 4: Qualitative Analysis (Organize) -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Bull Case -->
            <div class="bg-gradient-to-br from-green-50 to-white rounded-xl shadow-lg p-8 border border-green-100">
                <h3 class="text-2xl font-bold text-green-700 mb-4 flex items-center">
                    <span class="mr-2 text-3xl">üöÄ</span> The Bull Thesis
                </h3>
                <p class="text-gray-600 mb-6">The market is incorrectly pricing Tesla as a car manufacturer rather than a robotics and AI powerhouse.</p>
                <ul class="space-y-4">
                    <li class="flex items-start">
                        <span class="text-green-500 font-bold mr-3 text-xl">‚úì</span>
                        <div>
                            <strong class="block text-gray-900">FSD & Robotaxi</strong>
                            <span class="text-sm text-gray-600">Software-like margins (80%+) potentially unlocked if Level 4/5 autonomy is achieved.</span>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-500 font-bold mr-3 text-xl">‚úì</span>
                        <div>
                            <strong class="block text-gray-900">Energy Storage Explosion</strong>
                            <span class="text-sm text-gray-600">Megapack growth is outpaces auto growth, stabilizing total revenue.</span>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-green-500 font-bold mr-3 text-xl">‚úì</span>
                        <div>
                            <strong class="block text-gray-900">Optimus Bot</strong>
                            <span class="text-sm text-gray-600">Long-term optionality to revolutionize labor markets and manufacturing costs.</span>
                        </div>
                    </li>
                </ul>
            </div>

            <!-- Bear Case -->
            <div class="bg-gradient-to-br from-red-50 to-white rounded-xl shadow-lg p-8 border border-red-100">
                <h3 class="text-2xl font-bold text-red-700 mb-4 flex items-center">
                    <span class="mr-2 text-3xl">üêª</span> The Bear Thesis
                </h3>
                <p class="text-gray-600 mb-6">Valuation is detached from fundamentals, and the core auto business is facing commoditization.</p>
                <ul class="space-y-4">
                    <li class="flex items-start">
                        <span class="text-red-500 font-bold mr-3 text-xl">‚ö†</span>
                        <div>
                            <strong class="block text-gray-900">Margin Compression</strong>
                            <span class="text-sm text-gray-600">Price wars in China and rising rates have eroded the industry-leading gross margins.</span>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-500 font-bold mr-3 text-xl">‚ö†</span>
                        <div>
                            <strong class="block text-gray-900">Competition is Here</strong>
                            <span class="text-sm text-gray-600">BYD and legacy auto are producing competitive EVs at lower price points.</span>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-red-500 font-bold mr-3 text-xl">‚ö†</span>
                        <div>
                            <strong class="block text-gray-900">Key Man Risk</strong>
                            <span class="text-sm text-gray-600">Heavy reliance on Elon Musk's brand and divided attention across X, SpaceX, and xAI.</span>
                        </div>
                    </li>
                </ul>
            </div>
        </section>

        <!-- Section 5: Competitive Landscape (Compare) -->
        <section class="bg-white rounded-xl shadow-lg p-8">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">Market Position: The EV Race</h3>
            <p class="text-gray-600 mb-6 max-w-3xl">
                While Tesla maintains a strong brand lead, pure BEV (Battery Electric Vehicle) delivery volumes are being fiercely contested, particularly by Chinese manufacturers like BYD. This chart compares estimated annual delivery capability.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="md:col-span-2">
                    <!-- Chart Container -->
                    <div class="chart-container" style="max-width: 100%;">
                        <canvas id="competitionChart"></canvas>
                    </div>
                </div>
                <div class="flex flex-col justify-center space-y-4 bg-gray-50 p-6 rounded-lg">
                    <h4 class="font-bold text-gray-900">Key Takeaway</h4>
                    <p class="text-sm text-gray-600">Tesla relies on high efficiency and vertical integration (Superchargers) to maintain a premium. Competitors rely on scale and variety.</p>
                    <div class="border-t pt-4">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm font-semibold text-gray-700">Tesla Growth</span>
                            <span class="text-green-600 font-bold">~38% YoY</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm font-semibold text-gray-700">BYD Growth</span>
                            <span class="text-blue-600 font-bold">~60% YoY</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6: SWOT Analysis (Organize/Grid) -->
        <section>
            <h3 class="text-2xl font-bold text-gray-800 mb-6">Strategic SWOT Analysis</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Strengths -->
                <div class="bg-blue-50 p-6 rounded-lg border border-blue-100">
                    <h4 class="font-bold text-blue-800 mb-2 uppercase tracking-wide">Strengths</h4>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                        <li>Supercharger Network dominance.</li>
                        <li>Brand loyalty and awareness.</li>
                        <li>Vertical integration (Batteries/Software).</li>
                        <li>Massive data advantage for FSD.</li>
                    </ul>
                </div>
                <!-- Weaknesses -->
                <div class="bg-orange-50 p-6 rounded-lg border border-orange-100">
                    <h4 class="font-bold text-orange-800 mb-2 uppercase tracking-wide">Weaknesses</h4>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                        <li>Aging model lineup (Model 3/Y dependence).</li>
                        <li>Service center capacity bottlenecks.</li>
                        <li>High volatility deters institutional stability.</li>
                    </ul>
                </div>
                <!-- Opportunities -->
                <div class="bg-green-50 p-6 rounded-lg border border-green-100">
                    <h4 class="font-bold text-green-800 mb-2 uppercase tracking-wide">Opportunities</h4>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                        <li>Model 2 (Affordable Mass Market EV).</li>
                        <li>Licensing FSD to other OEMs.</li>
                        <li>Energy storage grid stabilization.</li>
                    </ul>
                </div>
                <!-- Threats -->
                <div class="bg-red-50 p-6 rounded-lg border border-red-100">
                    <h4 class="font-bold text-red-800 mb-2 uppercase tracking-wide">Threats</h4>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                        <li>Regulatory crackdowns on "Autopilot" branding.</li>
                        <li>Geopolitical tension (China/US relations).</li>
                        <li>Raw material scarcity (Lithium/Nickel).</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 7: Technical Analysis (Change) -->
        <section class="bg-white rounded-xl shadow-lg p-6">
            <h3 class="text-2xl font-bold text-gray-800 mb-2">Technical Analysis Snapshot</h3>
            <p class="text-gray-600 mb-6 text-sm">
                Short-term price action indicates a consolidation pattern. The stock often tests key support levels around $180-$200. This simulated chart represents typical volatility patterns and moving average interactions.
            </p>
            <!-- Chart Container -->
            <div class="chart-container" style="max-width: 100%;">
                <canvas id="technicalChart"></canvas>
            </div>
            <div class="mt-4 flex gap-4 text-xs font-mono text-gray-500">
                <span class="flex items-center"><span class="w-3 h-3 bg-purple-500 rounded-full mr-2"></span> Key Resistance: $265</span>
                <span class="flex items-center"><span class="w-3 h-3 bg-blue-500 rounded-full mr-2"></span> Key Support: $180</span>
            </div>
        </section>

        <!-- Footer / Conclusion -->
        <footer class="text-center py-10 border-t border-gray-200 mt-10">
            <h3 class="text-xl font-bold text-gray-900">Investment Verdict</h3>
            <p class="max-w-2xl mx-auto mt-4 text-gray-600">
                Tesla remains a <strong>High Risk / High Reward</strong> play. Fundamental investors may find current multiples hard to justify based solely on car sales. The investment thesis requires a belief in the execution of the AI and Energy roadmap.
            </p>
            <p class="text-xs text-gray-400 mt-8">
                Generated for Educational Purposes Only. Not Financial Advice. <br>
                Visualizations powered by Chart.js. Styled with Tailwind CSS.
            </p>
        </footer>

    </main>

    <script>
        // --- UTILITY FUNCTIONS ---

        /**
         * Splits a long label string into an array of shorter strings.
         * Mandatory for preventing layout breakage on small screens.
         */
        function formatLabel(str, maxLen = 16) {
            if (str.length <= maxLen) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + 1 + words[i].length <= maxLen) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        /**
         * Mandatory Tooltip Callback for handling array labels (multi-line).
         */
        const tooltipConfig = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // --- CHART DATA & CONFIGURATION ---

        // 1. Financial Trends Chart (Bar + Line)
        const ctxFinancial = document.getElementById('financialChart').getContext('2d');
        const financialChart = new Chart(ctxFinancial, {
            type: 'bar',
            data: {
                labels: ['2019', '2020', '2021', '2022', '2023'],
                datasets: [
                    {
                        type: 'line',
                        label: 'Net Income ($B)',
                        data: [ -0.86, 0.72, 5.51, 12.55, 15.0 ], // Approximate figures
                        borderColor: '#F43F5E', // Hot Pink
                        backgroundColor: '#F43F5E',
                        borderWidth: 3,
                        yAxisID: 'y1',
                        tension: 0.3,
                        pointRadius: 4
                    },
                    {
                        type: 'bar',
                        label: 'Revenue ($B)',
                        data: [ 24.6, 31.5, 53.8, 81.5, 96.8 ],
                        backgroundColor: '#3B82F6', // Blue
                        borderRadius: 4,
                        yAxisID: 'y'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    tooltip: tooltipConfig,
                    legend: {
                        position: 'top',
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: { display: true, text: 'Revenue' },
                        grid: { display: false }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: { display: true, text: 'Net Income' },
                        grid: { color: '#E5E7EB' }
                    }
                }
            }
        });

        // 2. Revenue Mix Chart (Doughnut)
        const ctxMix = document.getElementById('revenueMixChart').getContext('2d');
        const mixDataLabels = ['Automotive Sales', 'Services & Other', 'Energy Generation'];
        // Format labels
        const formattedMixLabels = mixDataLabels.map(l => formatLabel(l, 18));

        const revenueMixChart = new Chart(ctxMix, {
            type: 'doughnut',
            data: {
                labels: formattedMixLabels,
                datasets: [{
                    label: 'Revenue Share (%)',
                    data: [81, 11, 8], // Approx 2023/24 mix
                    backgroundColor: [
                        '#3B82F6', // Blue
                        '#8B5CF6', // Purple
                        '#06B6D4'  // Cyan
                    ],
                    borderWidth: 0,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: tooltipConfig,
                    legend: {
                        position: 'right'
                    }
                },
                cutout: '65%'
            }
        });

        // 3. Competitive Landscape (Horizontal Bar)
        const ctxComp = document.getElementById('competitionChart').getContext('2d');
        const compLabels = ['Tesla (Global)', 'BYD (BEV Only)', 'VW Group (BEV)', 'SAIC-GM-Wuling', 'Geely (Volvo/Polestar)'];
        const formattedCompLabels = compLabels.map(l => formatLabel(l, 20));

        const competitionChart = new Chart(ctxComp, {
            type: 'bar',
            data: {
                labels: formattedCompLabels,
                datasets: [{
                    label: 'Est. Annual Deliveries (Millions)',
                    data: [1.81, 1.57, 0.77, 0.5, 0.4], // Approximations for context
                    backgroundColor: [
                        '#3B82F6', // Tesla Blue
                        '#6B7280', // Gray
                        '#9CA3AF',
                        '#D1D5DB',
                        '#E5E7EB'
                    ],
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y', // Horizontal Bar
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: tooltipConfig,
                    legend: { display: false }
                },
                scales: {
                    x: {
                        grid: { color: '#E5E7EB' }
                    },
                    y: {
                        grid: { display: false }
                    }
                }
            }
        });

        // 4. Technical Analysis Simulation (Line)
        const ctxTech = document.getElementById('technicalChart').getContext('2d');
        
        // Simulating 6 months of price action
        const priceLabels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];
        const priceData = [240, 190, 175, 185, 170, 210]; // Simulated volatility
        
        const technicalChart = new Chart(ctxTech, {
            type: 'line',
            data: {
                labels: priceLabels,
                datasets: [
                    {
                        label: 'TSLA Price ($)',
                        data: priceData,
                        borderColor: '#8B5CF6', // Purple
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#FFFFFF',
                        pointBorderColor: '#8B5CF6',
                        pointRadius: 5
                    },
                    {
                        label: '200 Day MA',
                        data: [210, 208, 205, 202, 200, 198], // Simulated Trend
                        borderColor: '#111827',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        pointRadius: 0,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: tooltipConfig,
                    legend: { position: 'top' }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        suggestedMin: 150,
                        suggestedMax: 260,
                        grid: { color: '#E5E7EB' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

    </script>
</body>
</html>